# pjsekai-frida-scripts
## Disclaimer
If you use these scripts for a video, please give credit

You are not allowed to adapt the code of these scripts to other scripts or publish them as your own scripts
## Scripts
### Character Camera (scripts/custom-camera/character/)
In MV, you can switch a target by swiping the screen, swipe left for the next character, and right for the previous character

In virtual live, you can select a target by touching a character
#### Options Dialog
A button to open the options dialog will be added to the MV selection screen

<img width="480" height="270" alt="image" src="https://github.com/user-attachments/assets/13d747bf-e902-4905-957a-c1ae8fd1cc71" /> <img width="480" height="270" alt="Screenshot_2025 08 13_14 13 34 613" src="https://github.com/user-attachments/assets/3c342cd3-ba83-44ff-b73e-b1fa9ddf654e" />
#### Showcase
##### Music Video
<img width="480" height="270" alt="image" src="https://github.com/user-attachments/assets/b1afe51e-d7dd-4453-9d57-22e6de05193a" /> <img width="480" height="270" alt="image" src="https://github.com/user-attachments/assets/a4e0314f-bc8c-436e-966d-1028cd2ff45a" />
##### Virtual Live
https://github.com/user-attachments/assets/3f97cac4-fda3-48b6-bb22-7acc96d0699d
### Free Camera (scripts/custom-camera/free/)
The left half of the screen is used for camera control, and the right half is used for movement
#### Showcase
https://github.com/user-attachments/assets/ff7df55c-0346-4e1b-bfff-5f9b5df8680f

### Dumper (scripts/dumper.ts)
Dump MasterData and wordings, the dumped data will be saved to Application.persistentDataPath

It will be saved to "/sdcard/Android/data/com.sega.pjsekai/files/dumped" on Android

A button to start dump will be added to the game's options dialog

![image](https://github.com/user-attachments/assets/b95c522b-9ebe-4761-8f73-721c9b37bafa)

![image](https://github.com/user-attachments/assets/28fef10a-9dcd-4ba5-898b-5cf98fd9784c)

### Logger (scripts/logger.ts)
Trace Unity and the game's log functions

### Misc (scripts/misc/)
#### Custom Live (custom-live.ts)
  You can start a live by specifying IDs

  You can check IDs by referring to MasterMusicAllMap.json generated by dumper.ts

  https://github.com/user-attachments/assets/0a59201a-459a-4804-a70d-13bd91df3584

#### Play Scenario (play-scenario.ts, play-special-scenario.ts)
  https://github.com/user-attachments/assets/c9e95fcb-0467-4ca3-bd28-6a96bbe6a650

#### Make all notes flick and critical (make-all-notes-flick-and-critical.ts)
  https://github.com/user-attachments/assets/14336d99-b92a-47c5-b5ba-0ee700bdd125
  > lol

#### Automatically retires at the end of the live to prevent sending abnormal data to the server (auto-retire.ts)
  ![out](https://github.com/user-attachments/assets/712aa0b6-f172-4413-b464-b5ae287e0d6b)

## How to Use
### Requirements
- Node.js
- Frida
- Basic knowledge of how to use frida
### Steps
1. Clone this repo, and install a specific version of frida with requirements.txt (You might want to install Frida in a virtual environment):
```
pip install -r requirements.txt
```
2. Install dependencies with this command:
```
npm install
```
3. Once complete, you can get started with this command:
```
frida -U -N {package name} -l script.ts
```
For package name:
- JP: com.sega.pjsekai
- EN: com.sega.ColorfulStage.en

In emulators, the above command must be coupled with `--realm=emulated`

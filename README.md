# pjsekai-frida-scripts
## Disclaimer
If you use these scripts for a video, please give credit

You are not allowed to adapt the code of these scripts to other scripts or publish them as your own scripts
## Scripts
Use the script that matches the name of the game mode you want to apply the character camera to

### Character Camera (scripts/custom-camera/character/)
On MV, you can switch the target by swiping the screen, swipe left to the next character, and right to the previous character

On virtual live, select the target by touching characters
#### Options dialog
You can select between first person and third person with the options dialog

A button to open options dialog is added to MV select screen, the same applies to script for virtual live

<img width="480" height="270" alt="image" src="https://github.com/user-attachments/assets/13d747bf-e902-4905-957a-c1ae8fd1cc71" /> <img width="480" height="270" alt="Screenshot_2025 08 13_14 13 34 613" src="https://github.com/user-attachments/assets/3c342cd3-ba83-44ff-b73e-b1fa9ddf654e" />
#### Showcase
##### Music Video
<img width="480" height="270" alt="image" src="https://github.com/user-attachments/assets/b1afe51e-d7dd-4453-9d57-22e6de05193a" /> <img width="480" height="270" alt="image" src="https://github.com/user-attachments/assets/a4e0314f-bc8c-436e-966d-1028cd2ff45a" />
##### Virtual Live
https://github.com/user-attachments/assets/3f97cac4-fda3-48b6-bb22-7acc96d0699d
### Free Camera (scripts/custom-camera/free/)
The left half of the screen controls movement, and the right half controls the camera
#### Showcase
https://github.com/user-attachments/assets/ff7df55c-0346-4e1b-bfff-5f9b5df8680f

### Dumper (scripts/dumper.ts)
Dump MasterData and wordings, dumped data will be saved to Application.persistentDataPath

For example, it will be saved to "/sdcard/Android/data/com.sega.pjsekai/files/dumped" on Android

A button to start dumping is added to the option dialog

![image](https://github.com/user-attachments/assets/b95c522b-9ebe-4761-8f73-721c9b37bafa)

By default, the script will dump MasterMusicAlls, MasterEventStories, MasterSpecialStoryMap and MasterUnitStoryEpisodeAll

You can easily change the dump targets by changing targetDataNameArray in the script

![image](https://github.com/user-attachments/assets/28fef10a-9dcd-4ba5-898b-5cf98fd9784c)

### Logger (scripts/logger.ts)
Trace Unity log functions

### Misc (scripts/misc/)
There are some scripts in the folder:
#### Custom Live (custom-live.ts)
  Start live with custom settings

  You can see MasterMusicAlls.json generated by dumper.ts to check music ids

  https://github.com/user-attachments/assets/0a59201a-459a-4804-a70d-13bd91df3584

#### Play scenario (play-scenario.ts, play-special-scenario.ts)
  Play any scenario

  https://github.com/user-attachments/assets/c9e95fcb-0467-4ca3-bd28-6a96bbe6a650

#### Make all notes flick and critical (make-all-notes-flick-and-critical.ts)
  https://github.com/user-attachments/assets/966f707d-e724-4e58-a992-54a559b4f2ca

#### Automatically retires at the end of the live to prevent sending abnormal data to the server (auto-retire.ts)
  ![out](https://github.com/user-attachments/assets/712aa0b6-f172-4413-b464-b5ae287e0d6b)

## How to use
### Requirements
- Node.js
- Frida
- Basic knowledge of how to use frida
### Steps
1. Clone this repo, and install specific version of frida with requirements.txt (You might want to install Frida in the virtual environment):
```
pip install -r requirements.txt
```
2. Install dependencies with this command:
```
npm install
```
3. After finished, you can get started with this command:
```
frida -U -N com.sega.pjsekai -l the_script_you_want_to_use.ts
```
In the emulator, the above command must be coupled with `--realm=emulated`
## Notes
I have not tested these scripts in the English version, but they will probably work
